<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>OWENSAero · OWENS.jl</title><meta name="title" content="OWENSAero · OWENS.jl"/><meta property="og:title" content="OWENSAero · OWENS.jl"/><meta property="twitter:title" content="OWENSAero · OWENS.jl"/><meta name="description" content="Documentation for OWENS.jl."/><meta property="og:description" content="Documentation for OWENS.jl."/><meta property="twitter:description" content="Documentation for OWENS.jl."/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">OWENS.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../indepth_installation/">Installation</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="../../examples/A_simplyRunningOWENS/">Simply Running OWENS</a></li><li><a class="tocitem" href="../../examples/B_detailedInputs/">Detailed Inputs</a></li><li><a class="tocitem" href="../../examples/C_customizablePreprocessing/">Customizable Preprocessing</a></li><li><a class="tocitem" href="../../examples/D_simulatingFloatingPlatforms/">Simulating Floating Platforms</a></li><li><a class="tocitem" href="../../examples/E_RM2_Medium/">Marine Hydrokinetic RM2</a></li></ul></li><li><a class="tocitem" href="../../OWENS_Dev_Guide/">Developer Guide</a></li><li><span class="tocitem">API Reference</span><ul><li><a class="tocitem" href="../reference/">OWENS</a></li><li class="is-active"><a class="tocitem" href>OWENSAero</a><ul class="internal"><li><a class="tocitem" href="#Types-and-functions"><span>Types and functions</span></a></li></ul></li><li><a class="tocitem" href="../referenceFEA/">OWENSFEA</a></li><li><a class="tocitem" href="../referenceOpenFASTWrappers/">OWENSOpenFASTWrappers</a></li><li><a class="tocitem" href="../referencePreComp/">OWENSPreComp</a></li></ul></li><li><a class="tocitem" href="../../legacyUserGuide/">Legacy User Guide</a></li><li><a class="tocitem" href="../../VAWTGenUserGuide/">Legacy VAWTGen Guide</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">API Reference</a></li><li class="is-active"><a href>OWENSAero</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>OWENSAero</a></li></ul></nav><div class="docs-right"><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="OWENSAero"><a class="docs-heading-anchor" href="#OWENSAero">OWENSAero</a><a id="OWENSAero-1"></a><a class="docs-heading-anchor-permalink" href="#OWENSAero" title="Permalink"></a></h1><h2 id="Types-and-functions"><a class="docs-heading-anchor" href="#Types-and-functions">Types and functions</a><a id="Types-and-functions-1"></a><a class="docs-heading-anchor-permalink" href="#Types-and-functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.Environment" href="#OWENSAero.Environment"><code>OWENSAero.Environment</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Environment(rho::TF,mu::TF,V<em>x::TAF #Vinf is Vx,V</em>y::TAF,V<em>z::TAF,V</em>twist::TAF,windangle::TF #radians,DynamicStallModel::TS,AeroModel::TS,aw<em>warm::TVF,steplast::TAI,idx</em>RPI::TAI,V<em>wake</em>old::TVF2,BV<em>DynamicFlagL::TAI,BV</em>DynamicFlagD::TAI,alpha<em>last::TAF2,suction::TB) Environment(rho,mu,V</em>x,V<em>y,V</em>z,V<em>twist,windangle,DynamicStallModel,AeroModel,aw</em>warm) = Environment(rho,mu,V<em>x,V</em>y,V<em>z,V</em>twist,windangle,DynamicStallModel,AeroModel,aw<em>warm,zeros(Int,1),zeros(Int,length(V</em>x)),deepcopy(V<em>x),zeros(Int,1),zeros(Int,1),zeros(Real,1),false) Environment(rho,mu,V</em>x,DynamicStallModel,AeroModel,aw<em>warm) = Environment(rho,mu,V</em>x,zeros(Real,size(V<em>x)),zeros(Real,size(V</em>x)),zeros(Real,size(V<em>x)),0.0,DynamicStallModel,AeroModel,aw</em>warm,zeros(Int,1),zeros(Int,length(V<em>x)),deepcopy(V</em>x),zeros(Int,1),zeros(Int,1),zeros(Real,1),false)</p><p>Contains specications for turbine slice environment/operating conditions as well as some backend memory for dynamic stall and unsteady calculations</p><p><strong>Inputs</strong></p><ul><li><code>rho::TF</code>: Working fluid density (kg/m^3)</li><li><code>mu::TF</code>: Working fluid viscosity (standard SI units)</li><li><code>V_x::TAF</code> Vinf is Vx for simple simulations (m/s), array corresponding to each azimuthal position</li><li><code>V_y::TAF</code>: y input velocity (m/s), array corresponding to each azimuthal position</li><li><code>V_z::TAF</code>: z input velocity (m/s), array corresponding to each azimuthal position</li><li><code>V_twist::TAF</code>: rotational velocity from active twist (rad/s), array corresponding to each azimuthal position</li><li><code>windangle::TF</code>: angle of mean oncoming wind (rad)</li><li><code>DynamicStallModel::TS</code>: dynamic stall model (&quot;BV&quot; or &quot;none&quot; or &quot;LB&quot; - once it is finished)</li><li><code>AeroModel::TS</code>: aero model used (&quot;DMS&quot; or &quot;AC&quot;)</li><li><code>aw_warm::TVF</code>: warm start induction factor array, first half corresponding to u, second half to v</li><li><code>steplast::TAI</code>: prior simulation step index, used for unsteady wake propogation</li><li><code>idx_RPI::TAI</code>: used to specify the azimuthal indices needed for a partial solve (i.e. not every azimuthal index), such as is used in the RPI method</li><li><code>V_wake_old::TVF2</code>: Prior step&#39;s mean wake velocity (m/s)</li><li><code>BV_DynamicFlagL::TAI</code>: Boeing-vertol dynamic stall lift flag</li><li><code>BV_DynamicFlagD::TAI</code>: Boeing-vertol dynamic stall drag flag</li><li><code>alpha_last::TAF2</code>: Boeing-vertol dynamic stall prior step&#39;s angle of attack</li><li><code>suction::TB</code>: DMS flag for alternate induction model</li></ul><p><strong>Outputs:</strong></p><ul><li><code>none</code>:</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.Turbine" href="#OWENSAero.Turbine"><code>OWENSAero.Turbine</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Turbine(R::TF,r::TAF,z::TF,chord::TAF3,twist::TAF5,delta::TAF,omega::TAF4,B::TI,af::TFN,ntheta::TI,r_delta_influence::TB,centerX::TAF2,centerY::TAF2)
Turbine(R,r,z,chord,twist,delta,omega,B,af,ntheta,r_delta_infl) = Turbine(R,r,z,chord,twist,delta,omega,B,af,ntheta,r_delta_infl,zeros(Real,size(R)),zeros(Real,size(R)))
Turbine(R,r,chord,twist,delta,omega,B,af,ntheta,r_delta_infl) = Turbine(R,r,1.0,chord,twist,delta,omega,B,af,ntheta,r_delta_infl,zeros(Real,size(R)),zeros(Real,size(R)))</code></pre><p>Contains specications for turbine slice (geometry, location, airfoil)</p><p><strong>Inputs</strong></p><ul><li><code>R::TF</code>: Nominal turbine radius (m)</li><li><code>r::TAF</code>: Array of local radaii corresponding to each azimuthal position for the slice, allows for active blade deformation (m)</li><li><code>z::TF</code>: Vertical location of slice (only used when calling inflow-wind turbulent input)(m)</li><li><code>chord::TAF3</code>: Array of chord corresponding to each azimuthal position, allows for active blade deformation (m)</li><li><code>twist::TAF5</code>: Array of blade twist corresponding to each azimuthal position, allows for active blade deformation (rad)</li><li><code>delta::TAF</code>: Array of blade slope corresponding to each azimuthal position, allows for active blade deformation (rad)</li><li><code>omega::TAF4</code>: Array of rotational rate corresponding to each azimuthal position, allows for active blade deformation (rad/s)</li><li><code>B::TI</code>: Number of blades</li><li><code>af::TFN</code>: Airfoil function - see tests for example of how to create</li><li><code>ntheta::TI</code>: Number of azimuthal discretizations</li><li><code>r_delta_influence::TB</code>: Specification of whether local radius and blade slope are used in the influence coefficients for the actuator cylinder method</li><li><code>centerX::TAF2</code>: Turbine center x location (only used if multiple turbines are modeled)</li><li><code>centerY::TAF2</code>: Turbine center y location (only used if multiple turbines are modeled)</li></ul><p><strong>Outputs:</strong></p><ul><li><code>none</code>:</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.UnsteadyParams" href="#OWENSAero.UnsteadyParams"><code>OWENSAero.UnsteadyParams</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>UnsteadyParams(RPI::TB,tau::TAF,ifw::TB,IECgust::TB,nominalVinf::TF,G_amp::TF,gustX0::TF,gustT::TF) UnsteadyParams(RPI,tau,ifw) = UnsteadyParams(RPI,tau,ifw,false,1.0,0.0,1.0,1.0)</p><p>Contains specications for turbine slice unsteady inputs</p><p><strong>Inputs</strong></p><ul><li><code>RPI::TB</code>: Flag to specify if RPI is being used</li><li><code>tau::TAF</code>: Unsteady method wake propogation weighting [3.0,0.3]</li><li><code>ifw::TB</code>: Flag to specify if inflow-wind is being used</li><li><code>IECgust::TB</code>: Flag to specify if the simple sin-cos gust profile in the x-direction will be used</li><li><code>nominalVinf::TF</code>: Nominal velocity used to calculate the IEC gust size (m/s)</li><li><code>G_amp::TF</code>: IEC gust amplitude (m/s)</li><li><code>gustX0::TF</code>: IEC gust normalized starting point (x-location divided by reference radius)</li><li><code>gustT::TF</code>: IEC gust duration (s)</li></ul><p><strong>Outputs:</strong></p><ul><li><code>none</code>:</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.AC-Tuple{Any, Any}" href="#OWENSAero.AC-Tuple{Any, Any}"><code>OWENSAero.AC</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>AC(turbines, env; w=zeros(Real,2<em>turbines[1].ntheta), idx_RPI=1:2</em>turbine.ntheta, solve=true, ifw=false)</p><p>see ?steady for detailed i/o description</p><p>Double multiple streamtube model</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.AyIJ-NTuple{5, Any}" href="#OWENSAero.AyIJ-NTuple{5, Any}"><code>OWENSAero.AyIJ</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>integrand used for computing AIJ</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.Ayintegrand-NTuple{5, Any}" href="#OWENSAero.Ayintegrand-NTuple{5, Any}"><code>OWENSAero.Ayintegrand</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>integrand used for computing Ay</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.Boeing_Vertol-NTuple{11, Any}" href="#OWENSAero.Boeing_Vertol-NTuple{11, Any}"><code>OWENSAero.Boeing_Vertol</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Boeing_Vertol(af,alpha,adotnorm,umach,Re,aoaStallPos,aoaStallNeg,AOA0,tc,BV_DynamicFlagL,BV_DynamicFlagD; family_factor = 0.0)</code></pre><p>Boeing-Vertol Dynamic Stall Model. All angles are in rad unless explicitely stated otherwise (e.g. alpha_d) <strong>Arguments</strong></p><ul><li><code>af::airfoil_data4D</code>: airfoil function callable by: CL, CD, CM = af(aoa,Re,mach,family_factor)</li><li><code>alpha::Float64</code>: Static Angle of Attack (at 0.75 chord)</li><li><code>adotnorm::Float64</code>: Normalized Change in Angle of Attack adot<em>c/(2</em>U)</li><li><code>umach::Float64</code>: Blade mach number</li><li><code>Re::Float64</code>: Blade Reynolds number</li><li><code>aoaStallPos::Float64</code>: Positive Stall Angle (onset)</li><li><code>aoaStallNeg::Float64</code>: Negative Stall Angle (onset)</li><li><code>AOA0::Float64</code>: Zero Lift AOA</li><li><code>tc::Float64</code>: Thickness to chord ratio</li><li><code>BV_DynamicFlagL::Int</code>: lagged dynamic stall state for lift</li><li><code>BV_DynamicFlagD::Int</code>: lagged dynamic stall state for drag</li><li><code>family_factor::float64</code>: factor indexing airfoil family, if used</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.DMS-Tuple{Any, Any}" href="#OWENSAero.DMS-Tuple{Any, Any}"><code>OWENSAero.DMS</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>DMS(turbine, env; w=0, idx_RPI=1:turbine.ntheta, solve=true)</p><p>see ?steady for detailed i/o description</p><p>Double multiple streamtube model</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.DxII-Tuple{Any}" href="#OWENSAero.DxII-Tuple{Any}"><code>OWENSAero.DxII</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>integrand used for computing DxII</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.DxIJ-NTuple{5, Any}" href="#OWENSAero.DxIJ-NTuple{5, Any}"><code>OWENSAero.DxIJ</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>integrand used for computing DxIJ</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.Dxintegrand-NTuple{5, Any}" href="#OWENSAero.Dxintegrand-NTuple{5, Any}"><code>OWENSAero.Dxintegrand</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>integrand used for computing Dx</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.Unsteady_Step-NTuple{4, Any}" href="#OWENSAero.Unsteady_Step-NTuple{4, Any}"><code>OWENSAero.Unsteady_Step</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Unsteady_Step(turbine,env,us_param,mystep)</code></pre><p>calls inflow wind init</p><p><strong>Inputs</strong></p><ul><li><code>turbine::Turbine</code>: turbine input for slice see ?Turbine</li><li><code>env::Env</code>: environment input for slice see ?Env</li><li><code>us_param::UnsteadyParams</code>: unsteady inputs for slice see ?UnsteadyParams</li><li><code>mystep::int</code>: continuous index cooresponding to the azimuthal discretation - i.e. for ntheta of 30 step 1 is the first step of rev 1, sep 31 is the first step of rev 2, etc.  Keeps track of temporal locaion</li></ul><p><strong>Outputs:</strong></p><ul><li><code>CP</code>: This slice&#39;s coefficient of performance at this step</li><li><code>Th</code>: This slice&#39;s thrust coefficient at this step</li><li><code>Q</code>: Torque (N0m) at this step</li><li><code>Rp</code>: Radial force per height (N) at this step</li><li><code>Tp</code>: Tangential force per height (N) at this step</li><li><code>Zp</code>: Vertical force per height (N) at this step</li><li><code>Vloc</code>: Local velocity array for each azimuthal position (includes induction) (m/s) at this step</li><li><code>CD</code>: This slice&#39;s drag coefficient at this step</li><li><code>CT</code>: This slice&#39;s thrust coefficient (should equal drag, but may no depending on usage or solver status) at this step</li><li><code>amean</code>: Mean turbine induction in the streamwise direction at this step</li><li><code>astar</code>: Solved induction factors for each azimuthal location. First half are streamwise (u), second are cross-steam (v) at this step</li><li><code>alpha</code>: Local angle of attack array for each azimuthal position (includes induction) (rad) at this step</li><li><code>cl</code>: Local lift coefficient used for each azimuthal position at this step</li><li><code>cd_af</code>: Local drag coefficient used for each azimuthal position at this step</li><li><code>thetavec</code>: Azimuthal location of each discretization (rad)</li><li><code>Re</code>: Reynolds number for each azimuthal position at this step</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.WxII-Tuple{Any}" href="#OWENSAero.WxII-Tuple{Any}"><code>OWENSAero.WxII</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>integrand used for computing WxII</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.WxIJ-Tuple{Any, Any, Any}" href="#OWENSAero.WxIJ-Tuple{Any, Any, Any}"><code>OWENSAero.WxIJ</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>integrand used for computing WxIJ</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.advanceTurb-Tuple{Any}" href="#OWENSAero.advanceTurb-Tuple{Any}"><code>OWENSAero.advanceTurb</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">advanceTurb(tnew;ts=2*pi/(turbslices[1].omega[1]*turbslices[1].ntheta))</code></pre><p>Runs a previously initialized aero model (see ?setupTurb) in the unsteady mode (can be repeateadly called, or called for a specific time, or repeatedly called for sections of time)</p><p><strong>Inputs</strong></p><ul><li><code>tnew::float</code>: new time (s); will run from last time specified from the last call, to the current time specified, or from t=ts if the first time called</li><li><code>ts::float</code>: optional, desired timestep.  Will run at finer timesteps than the azimuthal discretization without interfering with wake propogation.  While possible, it is not recommended to run with timesteps larger than the azimuthal discretization (hence the optional nature and automatic calculation)</li></ul><p><strong>Outputs:</strong></p><ul><li><code>CP</code>: Turbine coefficient of performance</li><li><code>Rp</code>: Array(B,Nslices,n<em>steps) of radial force (N) where n</em>steps = max(1,round(Int,(tnew-timelast)/ts))</li><li><code>Tp</code>: Array(B,Nslices,n_steps) of tangential force (N)</li><li><code>Zp</code>: Array(B,Nslices,n_steps) of vertical force (N)</li><li><code>alpha</code>: Array(B,Nslices,n_steps) of angle of attack (rad)</li><li><code>cl</code>: Array(B,Nslices,n_steps) of airfoil cl used</li><li><code>cd_af</code>: Array(B,Nslices,n_steps) of airfoil cd used</li><li><code>Vloc</code>: Array(B,Nslices,n_steps) of airfoil local velocity used</li><li><code>Re</code>: Array(B,Nslices,n_steps) of airfoil Reynolds number used</li><li><code>thetavec</code>: Azimuthal discretization location (rad)</li><li><code>ntheta</code>: number of azimuthal discretizations used</li><li><code>Fx_base</code>: Array(ntheta)Turbine base Fx (N)</li><li><code>Fy_base</code>: Array(ntheta)Turbine base Fy (N)</li><li><code>Fz_base</code>: Array(ntheta)Turbine base Fz (N)</li><li><code>Mx_base</code>: Array(ntheta)Turbine base Mx (N-m)</li><li><code>My_base</code>: Array(ntheta)Turbine base My (N-m)</li><li><code>Mz_base</code>: Array(ntheta)Turbine base Mz (N-m)</li><li><code>power</code>: Array(ntheta)Turbine power (watts)</li><li><code>power2</code>: Turbine average power for the revolution (watts)</li><li><code>torque</code>: Array(ntheta)Turbine torque (N-m) (alternative calculation method from Mz-base)</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.deformTurb-Tuple{Any}" href="#OWENSAero.deformTurb-Tuple{Any}"><code>OWENSAero.deformTurb</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>deformTurb(azi;newOmega=-1,newVinf=-1,bld<em>x=-1,     bld</em>z=-1,     bld_twist=-1,     steady=false)</p><p>Equivalent to an update states call, mutating the internal aerodynamic inputs within the unsteady model.</p><p><strong>Inputs</strong></p><ul><li><code>azi</code>: Current azimuth position of the turbine in radians (continuously growing with numbers of revolutions)</li><li><code>bld_x</code>: Blade structural x shape, size(NBlade,any), any as it is splined against bld_z and the aero discretization</li><li><code>bld_z</code>: Blade structural z shape, size(NBlade,any), any as it is splined against bld_x and the aero discretization</li><li><code>bld_twist</code>: Blade structural twist, size(NBlade,any), any as it is splined against bld_z and the aero discretization.  Note that in the calcs, this will be in addition to the aero twist offset already applied in initialization.</li><li><code>accel_flap_in</code>: Blade structural acceleration in the flap direction, size(NBlade,any), any as it is splined against bld_z and the aero discretization</li><li><code>accel_edge_in</code>: Blade structural acceleration in the edge direction, size(NBlade,any), any as it is splined against bld_z and the aero discretization</li><li><code>steady::bool</code>: if steady is true, it just updates a single step.  TODO: verify this is correct</li></ul><p><strong>Outputs:</strong></p><ul><li><code>none</code>:</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.matrixAssemble-NTuple{5, Any}" href="#OWENSAero.matrixAssemble-NTuple{5, Any}"><code>OWENSAero.matrixAssemble</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Internal, assembles the matrices of multiple turbine systems into a combined system centerX, centerY: array of x,y coordinates for centers of the VAWTs in the farm radii: corresponding array of their radii</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.pInt-Tuple{Any, Any}" href="#OWENSAero.pInt-Tuple{Any, Any}"><code>OWENSAero.pInt</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Internal, integration for a periodic function where end points don&#39;t reach ends (uses trapezoidal method)</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.panelIntegration-NTuple{6, Any}" href="#OWENSAero.panelIntegration-NTuple{6, Any}"><code>OWENSAero.panelIntegration</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>applies for both Ay and Rx depending on which function ifunc(x, y, phi) is passed in</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.precomputeMatrices-NTuple{4, Any}" href="#OWENSAero.precomputeMatrices-NTuple{4, Any}"><code>OWENSAero.precomputeMatrices</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Internal, precomputes influence coefficient matricies and saves them as HDF5 files</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.radialforce-NTuple{5, Any}" href="#OWENSAero.radialforce-NTuple{5, Any}"><code>OWENSAero.radialforce</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Internal, calculates the radial force used in the residual function as well as the turbine performance when converged</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.readaerodyn-Tuple{Any}" href="#OWENSAero.readaerodyn-Tuple{Any}"><code>OWENSAero.readaerodyn</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">readaerodyn(filename)</code></pre><p>create airfoil lookup for a file with only one reynolds number</p><p><strong>Inputs</strong></p><ul><li><code>filename::string</code>: file path/name to airfoil file formatted like in the test folder</li></ul><p><strong>Outputs:</strong></p><ul><li><code>af::function</code>: cl, cd = af(alpha,re,mach) with alpha in rad</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.readaerodyn_BV-Tuple{Any}" href="#OWENSAero.readaerodyn_BV-Tuple{Any}"><code>OWENSAero.readaerodyn_BV</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">readaerodyn_BV(filename)</code></pre><p>create airfoil lookup function with boeing vertol dynamic stall model for a file with only one reynolds number</p><p><strong>Inputs</strong></p><ul><li><code>filename::string</code>: file path/name to airfoil file formatted like in the test folder</li></ul><p><strong>Outputs:</strong></p><ul><li><code>af::function</code>: cl, cd = af<em>BV(alpha,Re,M,env,V</em>twist,c,dt,U;solvestep=false) with alpha in rad, OWENSAero.Env, V_twist in rad/s, c chord in m, dt in sec, U Vloc in m/s, solvestep true during solve loop</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.readaerodyn_BV_NEW-Tuple{Any}" href="#OWENSAero.readaerodyn_BV_NEW-Tuple{Any}"><code>OWENSAero.readaerodyn_BV_NEW</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">readaerodyn_BV_NEW(filename;DynamicStallModel=&quot;BV&quot;)</code></pre><p>for a file with multiple reynolds numbers create airfoil lookup function with boeing vertol dynamic stall model and wrap interpolation</p><p><strong>Inputs</strong></p><ul><li><code>filename::string</code>: file path/name to airfoil file formatted like in the test folder</li><li><code>DynamicStallModel::string</code>: &quot;BV&quot; or &quot;none&quot;</li></ul><p><strong>Outputs:</strong></p><ul><li><code>af::function</code>: cl, cd = af<em>BV(alpha,Re,M,env,V</em>twist,c,dt,U;solvestep=false) with alpha in rad, OWENSAero.Env, V_twist in rad/s, c chord in m, dt in sec, U Vloc in m/s, solvestep true during solve loop</li><li><code>af::function</code>: cl, cd = af(alpha,re,mach) with alpha in rad</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.residual-NTuple{6, Any}" href="#OWENSAero.residual-NTuple{6, Any}"><code>OWENSAero.residual</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Internal, sets up the residual function</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.setupTurb-NTuple{6, Any}" href="#OWENSAero.setupTurb-NTuple{6, Any}"><code>OWENSAero.setupTurb</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>setupTurb(bld<em>x,bld</em>z,B,chord,omega,Vinf;     Height = maximum(bld<em>z),     Radius = maximum(bld</em>x),     eta = 0.25,     twist = 0.0, #or array{Float,Nslices}     rho = 1.225,     mu = 1.7894e-5,     RPI = true,     tau = [0.3,3.0],     ntheta = 30,     Nslices = 30, #TODO: make this different from ntheta     ifw = false,     DynamicStallModel = &quot;BV&quot;,     AeroModel = &quot;DMS&quot;,     windangle<em>D = 0.0,     afname = &quot;(path)/airfoils/NACA</em>0015<em>RE3E5.dat&quot;, #TODO: analytical airfoil as default     turbsim</em>filename = &quot;(path)/data/ifw/turb<em>DLC1p3</em>13mps<em>330m</em>seed1.bts&quot;,     ifw<em>libfile = joinpath(dirname(@<strong>FILE</strong>), &quot;../bin/libifw</em>c<em>binding&quot;),     Aero</em>AddedMass<em>Active = false,     Aero</em>Buoyancy<em>Active = false,     Aero</em>RotAccel<em>Active = false,     AddedMass</em>Coeff_Ca = 1.0)</p><p>Initializes aerodynamic models and sets up backend persistent memory to simplify intermittent calling within coupled solver loops</p><p><strong>Inputs</strong></p><ul><li><code>bld_x</code>: Blade x shape</li><li><code>bld_z</code>: Blade z shape</li><li><code>B</code>: Number of blades</li><li><code>chord</code>: chord length (m)</li><li><code>omega</code>: rotation rate in rad/s.  size(1) or size(ntheta), pass in an array(Real,ntheta) when propogating automatic gradients</li><li><code>Vinf</code>: Inflow velocity</li><li><code>Height</code>:  turbine total height (m) typically maximum(bld<em>z) unless only the shape and not size of bld</em>z is being used</li><li><code>Radius</code>:  turbine nominal radius (m) typically maximum(bld<em>x) unless only shape and not size of bld</em>x is used</li><li><code>eta</code>: blade mount point ratio, i.e. 0.25 would be at the quarter chord</li><li><code>twist</code>: 0.0, #or array{Float,Nslices}</li><li><code>rho</code>: working fluid density (kg/m^3)</li><li><code>mu</code>:  working fluid dynamic viscosity (Pa*s)</li><li><code>RPI</code>: RPI method flag</li><li><code>tau</code>: Unsteady wake propogation time constants [0.3,3.0],</li><li><code>ntheta</code>: Number of azimuthal discretizations</li><li><code>Nslices</code>: Number of vertical slices of the turbine</li><li><code>ifw</code>: flag for inflow wind</li><li><code>DynamicStallModel</code>:  Dynamic stall model &quot;BV&quot; or &quot;none&quot; or &quot;LB&quot; when we get it working</li><li><code>AeroModel</code>:  Aerodynamic model &quot;DMS&quot; or &quot;AC&quot;</li><li><code>windangle_D</code>:  Inflow wind angle (degrees)</li><li><code>afname</code>: airfoil path and name e.g. &quot;(path)/airfoils/NACA<em>0015</em>RE3E5.dat&quot;</li><li><code>turbsim_filename</code>: turbsim path and name e.g. &quot;(path)/data/ifw/turb<em>DLC1p3</em>13mps<em>330m</em>seed1.bts&quot;,</li><li><code>ifw_libfile</code>:  inflow wind dynamic library location e.g. joinpath(dirname(@<strong>FILE</strong>), &quot;../../../openfast/build/modules/inflowwind/libifw<em>c</em>binding&quot;))</li><li><code>Aero_AddedMass_Active::bool</code>: flag to turn on added mass effects</li><li><code>Aero_Buoyancy_Active::bool</code>: flag to turn on buoyancy forces</li><li><code>Aero_RotAccel_Active::bool</code>: flag to turn on the rotational acceleration portion of added mass for a crossflow turbine</li><li><code>AddedMass_Coeff_Ca::float</code>: added mass coefficient, typically 1.0</li></ul><p><strong>Outputs:</strong></p><ul><li><code>none</code>:</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.steady-Tuple{Any, Any}" href="#OWENSAero.steady-Tuple{Any, Any}"><code>OWENSAero.steady</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">steady(turbine::Turbine, env::Env; w=zeros(Real,2*turbine.ntheta), idx_RPI=1:2*turbine.ntheta,solve=true,ifw=false)</code></pre><p>Calculates steady state aerodynamics for a single VAWT slice</p><p><strong>Inputs</strong></p><ul><li><code>turbine::Turbine</code>: Turbine struct, see ?Turbine for details</li><li><code>env::Env</code>: Env struct, see ?Env for details</li><li><code>w::Array(&lt;:Real)</code>: Optional, used if solve=false, induction factor array, first half corresponding to u, second half to v</li><li><code>idx_RPI::Array(&lt;:Int)</code>: Optional, used to specify the azimuthal indices needed for a partial solve (i.e. not every azimuthal index), such as is used in the RPI method</li><li><code>solve::Bool</code>: Optional, False is used when you want the model outputs for a given set of induction factors without resolving them.</li><li><code>ifw::Bool</code>: Optional, used to tell the Vinf lookup to attempt to use the dynamic inflow wind library, requires preprocessing as is shown in the test cases.</li></ul><p><strong>Outputs:</strong></p><ul><li><code>CP</code>: This slice&#39;s coefficient of performance</li><li><code>Th</code>: This slice&#39;s thrust coefficient</li><li><code>Q</code>: Torque (N0m)</li><li><code>Rp</code>: Radial force per height (N)</li><li><code>Tp</code>: Tangential force per height (N)</li><li><code>Zp</code>: Vertical force per height (N)</li><li><code>Vloc</code>: Local velocity array for each azimuthal position (includes induction) (m/s)</li><li><code>CD</code>: This slice&#39;s drag coefficient</li><li><code>CT</code>: This slice&#39;s thrust coefficient (should equal drag, but may no depending on usage or solver status)</li><li><code>amean</code>: Mean turbine induction in the streamwise direction</li><li><code>astar</code>: Solved induction factors for each azimuthal location. First half are streamwise (u), second are cross-steam (v)</li><li><code>alpha</code>: Local angle of attack array for each azimuthal position (includes induction) (rad)</li><li><code>cl</code>: Local lift coefficient used for each azimuthal position</li><li><code>cd_af</code>: Local drag coefficient used for each azimuthal position</li><li><code>thetavec</code>: Azimuthal location of each discretization (rad)</li><li><code>Re</code>: Reynolds number for each azimuthal position</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.steadyTurb-Tuple{}" href="#OWENSAero.steadyTurb-Tuple{}"><code>OWENSAero.steadyTurb</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">steadyTurb(omega,Vinf)</code></pre><p>Runs a previously initialized aero model (see ?setupTurb) in the steady state mode</p><p><strong>Inputs</strong></p><ul><li><code>omega::float</code>: turbine rotation rate (rad/s)</li><li><code>Vinf::float</code>: turbine steady inflow velocity (m/s)</li></ul><p><strong>Outputs:</strong></p><ul><li><code>CP</code>: Turbine coefficient of performance</li><li><code>Rp</code>: Array(B,Nslices,ntheta) of radial force (N)</li><li><code>Tp</code>: Array(B,Nslices,ntheta) of tangential force (N)</li><li><code>Zp</code>: Array(B,Nslices,ntheta) of vertical force (N)</li><li><code>alpha</code>: Array(B,Nslices,ntheta) of angle of attack (rad)</li><li><code>cl</code>: Array(B,Nslices,ntheta) of airfoil cl used</li><li><code>cd_af</code>: Array(B,Nslices,ntheta) of airfoil cd used</li><li><code>Vloc</code>: Array(B,Nslices,ntheta) of airfoil local velocity used</li><li><code>Re</code>: Array(B,Nslices,ntheta) of airfoil Reynolds number used</li><li><code>thetavec</code>: Azimuthal discretization location (rad)</li><li><code>ntheta</code>: number of azimuthal discretizations used</li><li><code>Fx_base</code>: Array(ntheta)Turbine base Fx (N)</li><li><code>Fy_base</code>: Array(ntheta)Turbine base Fy (N)</li><li><code>Fz_base</code>: Array(ntheta)Turbine base Fz (N)</li><li><code>Mx_base</code>: Array(ntheta)Turbine base Mx (N-m)</li><li><code>My_base</code>: Array(ntheta)Turbine base My (N-m)</li><li><code>Mz_base</code>: Array(ntheta)Turbine base Mz (N-m)</li><li><code>power</code>: Array(ntheta)Turbine power (watts)</li><li><code>power2</code>: Turbine average power for the revolution (watts)</li><li><code>torque</code>: Array(ntheta)Turbine torque (N-m) (alternative calculation method from Mz-base)</li></ul></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.streamtube-NTuple{4, Any}" href="#OWENSAero.streamtube-NTuple{4, Any}"><code>OWENSAero.streamtube</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>INTERNAL streamtube(a,theta,turbine,env;output_all=false,Vxwake=nothing,solvestep=false)</p><p>Double multiple streamtube individual streamtube calculation</p><p>Output:</p><p>if output<em>all     return Th, Q, Rp, Tp, Zp, Vloc, CD, CT, alpha, cl, cd</em>af, Re else     return CD-CT # Residual, section 2.4 end</p></div></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="OWENSAero.trapz-Tuple{Any, Any}" href="#OWENSAero.trapz-Tuple{Any, Any}"><code>OWENSAero.trapz</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>Internal, trapezoidal integration of y w.r.t. x</p></div></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../reference/">« OWENS</a><a class="docs-footer-nextpage" href="../referenceFEA/">OWENSFEA »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.13.0 on <span class="colophon-date" title="Monday 30 June 2025 15:09">Monday 30 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
